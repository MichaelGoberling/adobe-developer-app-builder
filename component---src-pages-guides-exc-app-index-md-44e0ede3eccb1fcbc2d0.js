"use strict";(self.webpackChunkadobe_developer_app_builder=self.webpackChunkadobe_developer_app_builder||[]).push([[4930],{85832:function(e,n,t){t.r(n),t.d(n,{_frontmatter:function(){return l},default:function(){return p}});var a=t(87462),i=t(63366),r=(t(15007),t(64983)),m=t(91515),o=["components"],l={},s={_frontmatter:l},d=m.Z;function p(e){var n=e.components,t=(0,i.Z)(e,o);return(0,r.mdx)(d,(0,a.Z)({},s,t,{components:n,mdxType:"MDXLayout"}),(0,r.mdx)("h1",{id:"integration-guide-with-adobe-experience-cloud"},"Integration Guide with Adobe Experience Cloud"),(0,r.mdx)("p",null,"Adobe Experience Cloud gives you everything you need to bring world-class experiences to every\ncustomer. It consists of multiple solutions that power insights, content, engagement, commerce and\noptimization.  The unified shell web application at\n",(0,r.mdx)("a",{parentName:"p",href:"https://experience.adobe.com"},"https://experience.adobe.com")," provides a unified user experience for\ncustomers to manage these solutions from a single place."),(0,r.mdx)("p",null,"The solution experiences run within an iframe in the unified shell web application and can interact\nwith components of the unified shell such as topbar, menus, nps, alerts, etc. These interactions are\nmade possible through two components: -"),(0,r.mdx)("ol",null,(0,r.mdx)("li",{parentName:"ol"},"A module-runtime script that is injected into the product iframe"),(0,r.mdx)("li",{parentName:"ol"},"This @adobe/exc-app package that provides an API to interact with the injected module-runtime\nscript.")),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("a",{parentName:"li",href:"#exc-app"},"exc-app"),(0,r.mdx)("ul",{parentName:"li"},(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("a",{parentName:"li",href:"#getting-started"},"Getting Started")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("a",{parentName:"li",href:"#features"},"Features"),(0,r.mdx)("ul",{parentName:"li"},(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("a",{parentName:"li",href:"#apis"},"APIs"),(0,r.mdx)("ul",{parentName:"li"},(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("a",{parentName:"li",href:"#index"},"Index")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("a",{parentName:"li",href:"#page"},"Page")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("a",{parentName:"li",href:"#topbar"},"TopBar")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("a",{parentName:"li",href:"#user"},"User")))),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("a",{parentName:"li",href:"#events"},"Events"),(0,r.mdx)("ul",{parentName:"li"},(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("a",{parentName:"li",href:"#ready"},"Ready")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("a",{parentName:"li",href:"#configuration"},"Configuration")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("a",{parentName:"li",href:"#history"},"History")))))),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("a",{parentName:"li",href:"#licensing"},"Licensing"))))),(0,r.mdx)("h2",{id:"getting-started"},"Getting Started"),(0,r.mdx)("p",null,"To get started with this integration, below two things need to be done."),(0,r.mdx)("ol",null,(0,r.mdx)("li",{parentName:"ol"},"Include the runtime loader script on the home page"),(0,r.mdx)("li",{parentName:"ol"},"Include the ",(0,r.mdx)("a",{parentName:"li",href:"https://www.npmjs.com/package/@adobe/exc-app"},"@adobe/exc-app")," package in your NPM\n",(0,r.mdx)("inlineCode",{parentName:"li"},"package.json")," and invoke the init API.")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-typescript"},"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {init} from '@exc/runtime';\n\ninit(runtime => {\n  // Example initialization for a solution that uses React\n  ReactDOM.render(<MyProductPage runtime={runtime} />, document.querySelector('#main'));\n});\n")),(0,r.mdx)("h2",{id:"features"},"Features"),(0,r.mdx)("h3",{id:"apis"},"APIs"),(0,r.mdx)("h4",{id:"index"},"Index"),(0,r.mdx)("p",null,"Core APIs that let solutions initialize the application, provide access to the runtime object from\nanywhere in the app, listen to events.\n",(0,r.mdx)("a",{parentName:"p",href:"./modules/index.md"},"learn more")),(0,r.mdx)("h4",{id:"page"},"Page"),(0,r.mdx)("p",null,"APIs that let solutions interact with the main page and personalize it, e.g. setting the title,\nfavicon, refreshing the solution iframe, etc.\n",(0,r.mdx)("a",{parentName:"p",href:"./modules/page.md"},"learn more")),(0,r.mdx)("h4",{id:"topbar"},"TopBar"),(0,r.mdx)("p",null,"APIs that let solutions interact with the top bar and personalize it, e.g. configuring the solution\narea on the left, setting up workspaces, custom search, etc.\n",(0,r.mdx)("a",{parentName:"p",href:"./modules/topbar.md"},"learn more")),(0,r.mdx)("h4",{id:"user"},"User"),(0,r.mdx)("p",null,"APIs to request user-specific information such as IMS organization, IMS profile, access token,\ntenant, etc. It also  provides solutions with other capabilities such as notifying the shell that\nthe session has expired and configuring a logout URL to expire custom sessions.\n",(0,r.mdx)("a",{parentName:"p",href:"./modules/user.md"},"learn more")),(0,r.mdx)("h3",{id:"events"},"Events"),(0,r.mdx)("p",null,"Events are emitted by the module runtime when it receives certain messages from the Unified Shell."),(0,r.mdx)("h4",{id:"ready"},"Ready"),(0,r.mdx)("p",null,"The ready event fires when the initial configuration has been received from the Shell. It would\nmake sense to wait for this event before rendering the application or setting any workspaces. The\nlocale will be required to do globalization and we require the workspaces translated prior to\nsetting them on the Shell, since we don’t (and shouldn’t) have translations for every Solution’s\nworkspaces."),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},(0,r.mdx)("em",{parentName:"strong"},"Example:"))),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-typescript"},"import excApp from '@exc/runtime';\n\nfunction setup() {\n  const runtime = excApp();\n  runtime.on('ready', ({imsOrg, imsToken, locale}) => {\n  this.setState({\n      imsOrg,\n      imsToken,\n      loading: false,\n      locale\n  });\n  });\n}\n")),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},(0,r.mdx)("em",{parentName:"strong"},"Payload:"))),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"baseUrl"),": Base url for the solution."),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"environment"),": Environment being used."),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"historyType"),": Type of history."),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"imsEnvironment"),": IMS environment. This follows general rules unless shell_ims query param is\nin use."),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"imsOrg"),": IMS org ID."),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"imsOrgName"),": Name of the IMS org."),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"imsProfile"),": Object containing information about the authenticated user."),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"imsToken"),": IMS token."),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"locale"),": Locale string for globalization."),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"preferredLanguages"),": List of preferred languages from the user's IMS profile."),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"shellInfo"),": Shell related information needed to populate the shell UI. More details about what\nis included are Shell API."),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"tenant"),": tenant name for current ims org.")),(0,r.mdx)("h4",{id:"configuration"},"Configuration"),(0,r.mdx)("p",null,"The configuration event fires when any configuration changes from the Shell. This has the same\npayload as the ready event."),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},(0,r.mdx)("em",{parentName:"strong"},"Example:"))),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-typescript"},"import runtime from '@exc/runtime';\n\nfunction setup() {\n  const runtime = excApp();\n  runtime.on('configuration', ({imsOrg, imsToken, locale}) => {\n    if (imsOrg !== this.state.imsOrg) {\n      // Change org\n    }\n    this.setState({imsOrg, imsToken, locale});\n  });\n}\n")),(0,r.mdx)("h4",{id:"history"},"History"),(0,r.mdx)("p",null,"The history event fires when the browser history changes and the frame needs to know about it."),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},(0,r.mdx)("em",{parentName:"strong"},"Example:"))),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-typescript"},"import runtime from '@exc/runtime';\n\nfunction setup() {\n  const runtime = excApp();\n  runtime.on('history', ({type, path}) => {\n    const cleanedPath = path[0] === '/' ? path : '/' + path;\n    if (type === 'external' && this.history.location.pathname !== cleanedPath) {\n      this.history.replace(cleanedPath);\n    }\n  });\n}\n")),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},(0,r.mdx)("em",{parentName:"strong"},"Payload:"))),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"type"),": Internal or external depending on where the event originates from."),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"path"),": The new path to update the browser history with.")),(0,r.mdx)("h2",{id:"licensing"},"Licensing"),(0,r.mdx)("p",null,"This project is licensed under the Creative Commons Attribution-NoDerivatives 4.0 International Public License. See ",(0,r.mdx)("a",{parentName:"p",href:"https://creativecommons.org/licenses/by-nd/4.0/"},"LICENSE")," for more information."))}p.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-exc-app-index-md-44e0ede3eccb1fcbc2d0.js.map