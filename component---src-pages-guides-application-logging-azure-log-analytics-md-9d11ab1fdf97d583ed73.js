"use strict";(self.webpackChunkadobe_developer_app_builder=self.webpackChunkadobe_developer_app_builder||[]).push([[3209],{76101:function(e,a,o){o.r(a),o.d(a,{_frontmatter:function(){return l},default:function(){return s}});var r=o(87462),n=o(63366),t=(o(15007),o(64983)),i=o(91515),p=["components"],l={},m={_frontmatter:l},d=i.Z;function s(e){var a=e.components,o=(0,n.Z)(e,p);return(0,t.mdx)(d,(0,r.Z)({},m,o,{components:a,mdxType:"MDXLayout"}),(0,t.mdx)("h1",{id:"forwarding-logs-to-azure-log-analytics"},"Forwarding logs to Azure Log Analytics"),(0,t.mdx)("p",null,"This guide would cover configuring your app builder application to forward application logs to your Azure Log Analytics workspace."),(0,t.mdx)("h2",{id:"prerequisites"},"Prerequisites"),(0,t.mdx)("ol",null,(0,t.mdx)("li",{parentName:"ol"},"Access to an Azure Log Analytics workspace. If you need to create one, you can follow Azure's guide ",(0,t.mdx)("a",{parentName:"li",href:"https://docs.microsoft.com/en-us/azure/azure-monitor/logs/quick-create-workspace"},"here"),"."),(0,t.mdx)("li",{parentName:"ol"},"Local development setup for your App Builder application."),(0,t.mdx)("li",{parentName:"ol"},"The latest version of AIO CLI. Check your version by running ",(0,t.mdx)("inlineCode",{parentName:"li"},"aio --version"),". To update run ",(0,t.mdx)("inlineCode",{parentName:"li"},"npm install -g @adobe/aio-cli"),".")),(0,t.mdx)("h2",{id:"steps-to-configure-log-forwarding"},"Steps to configure Log Forwarding"),(0,t.mdx)("ol",null,(0,t.mdx)("li",{parentName:"ol"},(0,t.mdx)("p",{parentName:"li"},"Open Azure Portal and navigate to the Azure Log Analytics workspace you want to use. Go to the workspace overview screen and pick Agent Management from the menu on the left. Copy the ",(0,t.mdx)("strong",{parentName:"p"},(0,t.mdx)("inlineCode",{parentName:"strong"},"Workspace ID"))," and the ",(0,t.mdx)("strong",{parentName:"p"},(0,t.mdx)("inlineCode",{parentName:"strong"},"Primary Key"))," for later use.")),(0,t.mdx)("li",{parentName:"ol"},(0,t.mdx)("p",{parentName:"li"},"Open terminal and navigate to the App Builder project directory on your machine.")),(0,t.mdx)("li",{parentName:"ol"},(0,t.mdx)("p",{parentName:"li"},"Run the following command and supply the values copied in step 1 when prompted."),(0,t.mdx)("pre",{parentName:"li"},(0,t.mdx)("code",{parentName:"pre"},"aio app config set log-forwarding\n? select log forwarding destination: Azure Log Analytics\n? customer ID: <Workspace ID>\n? shared key: <Primary Key>\n? log type: <table_name_alpha_chars_only>\n")),(0,t.mdx)("p",{parentName:"li"},"Note:"),(0,t.mdx)("ul",{parentName:"li"},(0,t.mdx)("li",{parentName:"ul"},"Replace the value of ",(0,t.mdx)("inlineCode",{parentName:"li"},"Workspace ID")," and ",(0,t.mdx)("inlineCode",{parentName:"li"},"Primary Key")," as copied in step 1."),(0,t.mdx)("li",{parentName:"ul"},"Replace the value of ",(0,t.mdx)("inlineCode",{parentName:"li"},"table_name_alpha_chars_only")," with the custom table name that you wish to provide. This field only accepts alpha characters."))),(0,t.mdx)("li",{parentName:"ol"},(0,t.mdx)("p",{parentName:"li"},"Verify that the config change has taken effect "),(0,t.mdx)("pre",{parentName:"li"},(0,t.mdx)("code",{parentName:"pre"},"aio app config get log-forwarding\n"))),(0,t.mdx)("li",{parentName:"ol"},(0,t.mdx)("p",{parentName:"li"},"Execute an action in your App Builder application workspace to generate logs.")),(0,t.mdx)("li",{parentName:"ol"},(0,t.mdx)("p",{parentName:"li"},"Go to Azure Portal, and on the overview screen of your workspace, select Logs on the left menu. Run a query using the table name you provided in step 3. Note the table name that shows up on the Azure portal will have the suffix ",(0,t.mdx)("strong",{parentName:"p"},(0,t.mdx)("inlineCode",{parentName:"strong"},"_CL"))," appended to the table name you provided.")),(0,t.mdx)("li",{parentName:"ol"},(0,t.mdx)("p",{parentName:"li"},"If you don't see any logs in Azure, please check the log forwarding errors."),(0,t.mdx)("pre",{parentName:"li"},(0,t.mdx)("code",{parentName:"pre"},"aio app config get log-forwarding errors\n")),(0,t.mdx)("p",{parentName:"li"},(0,t.mdx)("em",{parentName:"p"},"Note: If you are unable to set up log forwarding correctly, please visit our ",(0,t.mdx)("a",{parentName:"em",href:"https://experienceleaguecommunities.adobe.com/t5/project-firefly/ct-p/project-firefly"},"App Builder forums")," for support.")))))}s.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-application-logging-azure-log-analytics-md-9d11ab1fdf97d583ed73.js.map